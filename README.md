# Auto-Lyric-Video-Generator

---

## 💡 项目简介

**Auto-Lyric-Video-Generator** 是一个基于 **Python** 和 **MoviePy** 库开发的跨平台音乐视频自动化生成工具。它可以帮助用户快速、批量地将音频文件（如 `.mp3`）与 `.lrc` 歌词文件结合，自动生成带有动态滚动和淡入淡出歌词效果的 16:9 格式视频文件（`.mp4`）。

本工具提供了 **PyQt5** 图形用户界面（GUI），支持单文件模式和文件夹批量处理模式，极大提高了生成效率。

### ✨ 核心功能

- **LRC 歌词同步**：精确解析 `.lrc` 文件，实现歌词的精准同步与平滑滚动。
- **多语言智能换行**：在 `video_generator.py` 中集成了对中文（jieba）、日文和英文的智能文本换行处理，确保歌词在不同语言下都能优雅布局。
- **舒缓的动态背景**：利用封面图片自动生成模糊、低频呼吸感的动态背景，增加视觉舒适度。
- **圆角封面展示**：自动处理并展示具有圆角效果的专辑封面。
- **音频波形预览**：GUI 界面集成了音频波形显示，帮助用户确认音频内容。
- **批量处理**：支持按文件夹结构自动收集和处理多个歌曲任务。

## ⚙️ 部署与安装

### 🛠️ 环境要求

- Python 3.7 及以上
- FFmpeg（必须安装并配置到系统环境变量中，供 MoviePy 使用）

### 📦 依赖安装

克隆本项目到本地后，请使用如下命令安装依赖：

```shell
pip install -r requirements.txt
```

**示例 requirements.txt 内容：**
```text
moviepy
numpy
Pillow
pylrc
PyQt5
```

## 📁 文件结构
请按如下结构组织你的资源文件：

```text
Auto-Lyric-Video-Generator/
├── music_video_app.py   # GUI 主程序
├── video_generator.py   # 核心视频生成逻辑
├── .gitignore           # Git 忽略配置
├── Fonts/               # 存放 NotoSansSC/JP/Regular 等字体文件
├── Songs/               # 【可忽略】你的音频、歌词、封面等输入文件（用于测试）
├── Output/              # 【可忽略】视频输出目录
└── README.md
```

## 🚀 使用方法

1. **准备资源文件**
	- 音频文件：`song.mp3`
	- 歌词文件：`song.lrc`（与音频文件同名）
	- 封面图片：`cover.png` 或 `cover.jpg`（建议使用 1:1 比例）

2. **启动程序**
	在项目根目录下运行 GUI 应用程序：
	```shell
	python music_video_app.py
	```

3. **选择工作模式**
	- 单独处理模式：手动选择音频、歌词和封面文件，适用于单个视频生成。
	- 批量处理模式：选择一个包含多个歌曲文件夹的根目录，程序将自动识别匹配的音频、LRC 和封面文件并排队生成。

4. **开始生成**
	点击“开始生成”按钮，选择输出文件夹，程序将在后台启动多线程渲染，并在进度条和状态栏中显示实时进度。

## 🤝 贡献与许可

欢迎提交 Bug 报告或 Pull Request 来改进本项目。

本项目采用 MIT 许可。
